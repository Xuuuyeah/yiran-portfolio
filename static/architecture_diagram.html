<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Agentic AI Analytics Platform â€” Architecture</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  body { background:#0a0e1a; font-family:'Segoe UI',system-ui,sans-serif; display:flex; justify-content:center; padding:32px 16px; }
  .page { width:1200px; }

  .header { text-align:center; margin-bottom:22px; }
  .header h1 { color:#f1f5f9; font-size:34px; font-weight:800; letter-spacing:-1px; }
  .header h1 span { background:linear-gradient(135deg,#a78bfa,#60a5fa); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
  .header p { color:#64748b; font-size:14px; margin-top:4px; }

  .highlights { display:flex; gap:0; margin-bottom:22px; border-radius:14px; overflow:hidden; border:1px solid rgba(255,255,255,0.06); }
  .hl { flex:1; padding:13px; text-align:center; background:rgba(255,255,255,0.02); border-right:1px solid rgba(255,255,255,0.04); }
  .hl:last-child { border:none; }
  .hl-num { font-size:22px; font-weight:800; background:linear-gradient(135deg,#a78bfa,#38bdf8); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
  .hl-label { color:#64748b; font-size:9px; text-transform:uppercase; letter-spacing:1.5px; margin-top:2px; }

  .flow-wrap { background:linear-gradient(160deg,#0d1117 0%,#101828 100%); border:1px solid rgba(255,255,255,0.06); border-radius:16px; padding:24px 20px; margin-bottom:16px; }

  .info-row { display:flex; gap:12px; margin-bottom:16px; }
  .info-card { flex:1; border-radius:12px; padding:14px 16px; }
  .ic-purple { background:linear-gradient(160deg,#0f1629,#1a1040); border:1px solid #4c1d95; }
  .ic-green { background:linear-gradient(160deg,#0f1629,#0a2e1f); border:1px solid #065f46; }
  .ic-amber { background:linear-gradient(160deg,#0f1629,#2a1f0a); border:1px solid #78350f; }
  .info-card h3 { font-size:10px; font-weight:700; text-transform:uppercase; letter-spacing:1px; margin-bottom:8px; }
  .ic-purple h3 { color:#c4b5fd; } .ic-green h3 { color:#6ee7b7; } .ic-amber h3 { color:#fbbf24; }
  .ii { font-size:10px; color:#cbd5e1; line-height:1.55; margin-bottom:5px; padding-left:12px; position:relative; }
  .ii::before { content:'â–¸'; position:absolute; left:0; }
  .ic-purple .ii::before { color:#a78bfa; } .ic-green .ii::before { color:#34d399; } .ic-amber .ii::before { color:#fbbf24; }
  .ii strong { color:#f1f5f9; }
  .ii code { background:rgba(255,255,255,0.06); padding:0 4px; border-radius:3px; font-size:9px; color:#a78bfa; font-family:'SF Mono',Consolas,monospace; }

  .tech-bar { display:flex; gap:8px; justify-content:center; flex-wrap:wrap; padding:14px; border-radius:12px; background:rgba(255,255,255,0.015); border:1px solid rgba(255,255,255,0.04); }
  .tb { display:flex; flex-direction:column; align-items:center; gap:2px; min-width:68px; }
  .tb-i { font-size:18px; } .tb-n { font-size:9px; font-weight:700; color:#94a3b8; } .tb-r { font-size:7px; color:#475569; }
</style>
</head>
<body>
<div class="page">

  <div class="header">
    <h1>Agentic AI <span>Analytics Platform</span></h1>
    <p>Multi-Agent LLM System &mdash; Designed &amp; Implemented by Yiran</p>
  </div>

  <div class="highlights">
    <div class="hl"><div class="hl-num">5</div><div class="hl-label">Specialized ReAct Agents</div></div>
    <div class="hl"><div class="hl-num">StateGraph</div><div class="hl-label">LangGraph Orchestration</div></div>
    <div class="hl"><div class="hl-num">MCP</div><div class="hl-label">Tool Protocol Integration</div></div>
    <div class="hl"><div class="hl-num">GPT-4</div><div class="hl-label">Azure OpenAI Backbone</div></div>
    <div class="hl"><div class="hl-num">E2E</div><div class="hl-label">NL Query â†’ Insight</div></div>
  </div>

  <div class="flow-wrap">
    <svg viewBox="0 0 1100 710" width="100%" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <marker id="ap" markerWidth="5" markerHeight="4" refX="5" refY="2" orient="auto"><polygon points="0 0,5 2,0 4" fill="#7c3aed"/></marker>
        <marker id="ag-end" markerWidth="5" markerHeight="4" refX="5" refY="2" orient="auto"><polygon points="0 0,5 2,0 4" fill="#059669"/></marker>
        <marker id="ag-start" markerWidth="5" markerHeight="4" refX="0" refY="2" orient="auto"><polygon points="5 0,0 2,5 4" fill="#059669"/></marker>
        <marker id="ar" markerWidth="5" markerHeight="4" refX="5" refY="2" orient="auto"><polygon points="0 0,5 2,0 4" fill="#dc2626"/></marker>
        <marker id="ab" markerWidth="5" markerHeight="4" refX="5" refY="2" orient="auto"><polygon points="0 0,5 2,0 4" fill="#0ea5e9"/></marker>
        <marker id="ab-start" markerWidth="5" markerHeight="4" refX="0" refY="2" orient="auto"><polygon points="5 0,0 2,5 4" fill="#0ea5e9"/></marker>
        <marker id="sg" markerWidth="4" markerHeight="3" refX="4" refY="1.5" orient="auto"><polygon points="0 0,4 1.5,0 3" fill="#34d399"/></marker>
        <marker id="sp" markerWidth="4" markerHeight="3" refX="4" refY="1.5" orient="auto"><polygon points="0 0,4 1.5,0 3" fill="#a78bfa"/></marker>
        <marker id="sb" markerWidth="4" markerHeight="3" refX="4" refY="1.5" orient="auto"><polygon points="0 0,4 1.5,0 3" fill="#38bdf8"/></marker>
        <linearGradient id="gp" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#7c3aed" stop-opacity="0.18"/><stop offset="100%" stop-color="#7c3aed" stop-opacity="0.02"/></linearGradient>
        <linearGradient id="gg" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#059669" stop-opacity="0.14"/><stop offset="100%" stop-color="#059669" stop-opacity="0.02"/></linearGradient>
        <linearGradient id="gb" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#0ea5e9" stop-opacity="0.14"/><stop offset="100%" stop-color="#0ea5e9" stop-opacity="0.02"/></linearGradient>
        <linearGradient id="gr" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#dc2626" stop-opacity="0.10"/><stop offset="100%" stop-color="#dc2626" stop-opacity="0.02"/></linearGradient>
        <filter id="sh"><feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/></filter>
      </defs>

      <!-- ==================== USER ICON ==================== -->
      <circle cx="520" cy="16" r="14" fill="rgba(14,165,233,0.12)" stroke="#0ea5e9" stroke-width="1.5"/>
      <!-- person silhouette -->
      <circle cx="520" cy="12" r="4" fill="#7dd3fc"/>
      <path d="M512 22 Q512 17 520 17 Q528 17 528 22" fill="#7dd3fc"/>
      <text x="520" y="40" text-anchor="middle" fill="#7dd3fc" font-size="8" font-weight="700">User</text>

      <!-- Arrow: User â†” Streamlit (bidirectional) -->
      <line x1="520" y1="44" x2="520" y2="70" stroke="#0ea5e9" stroke-width="1.8" marker-start="url(#ab-start)" marker-end="url(#ab)"/>

      <!-- ==================== STREAMLIT UI (shifted +12) ==================== -->
      <g transform="translate(0,12)">
      <rect x="195" y="60" width="650" height="68" rx="14" fill="url(#gb)" stroke="#0ea5e9" stroke-width="1.5" filter="url(#sh)"/>
      <text x="520" y="80" text-anchor="middle" fill="#7dd3fc" font-size="14" font-weight="800">ğŸ–¥ï¸  Streamlit Web UI</text>
      <text x="520" y="94" text-anchor="middle" fill="#38bdf8" font-size="8.5">Chat Interface  â€¢  File Upload  â€¢  Dashboard  â€¢  Real-time Streaming</text>
      <!-- UI Tech Pipeline (horizontal boxes) -->
      <rect x="255" y="100" width="72" height="20" rx="5" fill="rgba(14,165,233,0.12)" stroke="rgba(14,165,233,0.3)" stroke-width="0.8"/>
      <text x="291" y="113" text-anchor="middle" fill="#7dd3fc" font-size="8" font-weight="600">Streamlit</text>
      <line x1="327" y1="110" x2="340" y2="110" stroke="#38bdf8" stroke-width="1" marker-end="url(#sb)"/>
      <rect x="343" y="100" width="75" height="20" rx="5" fill="rgba(14,165,233,0.12)" stroke="rgba(14,165,233,0.3)" stroke-width="0.8"/>
      <text x="380" y="113" text-anchor="middle" fill="#7dd3fc" font-size="8" font-weight="600">asyncio bridge</text>
      <line x1="418" y1="110" x2="431" y2="110" stroke="#38bdf8" stroke-width="1" marker-end="url(#sb)"/>
      <rect x="434" y="100" width="60" height="20" rx="5" fill="rgba(14,165,233,0.12)" stroke="rgba(14,165,233,0.3)" stroke-width="0.8"/>
      <text x="464" y="113" text-anchor="middle" fill="#7dd3fc" font-size="8" font-weight="600">Plotly.js</text>
      <line x1="494" y1="110" x2="507" y2="110" stroke="#38bdf8" stroke-width="1" marker-end="url(#sb)"/>
      <rect x="510" y="100" width="70" height="20" rx="5" fill="rgba(14,165,233,0.12)" stroke="rgba(14,165,233,0.3)" stroke-width="0.8"/>
      <text x="545" y="113" text-anchor="middle" fill="#7dd3fc" font-size="8" font-weight="600">Mermaid.js</text>
      <line x1="580" y1="110" x2="593" y2="110" stroke="#38bdf8" stroke-width="1" marker-end="url(#sb)"/>
      <rect x="596" y="100" width="65" height="20" rx="5" fill="rgba(14,165,233,0.12)" stroke="rgba(14,165,233,0.3)" stroke-width="0.8"/>
      <text x="628" y="113" text-anchor="middle" fill="#7dd3fc" font-size="8" font-weight="600">aiostream</text>

      </g><!-- end Streamlit group -->

      <!-- Arrow: Streamlit â†” Supervisor (bidirectional) -->
      <line x1="520" y1="140" x2="520" y2="170" stroke="#0ea5e9" stroke-width="1.8" marker-start="url(#ab-start)" marker-end="url(#ab)"/>
      <text x="555" y="158" fill="#475569" font-size="7">query / response</text>

      <!-- ==================== SUPERVISOR (shifted +22) ==================== -->
      <g transform="translate(0,22)">
      <rect x="100" y="150" width="880" height="148" rx="16" fill="url(#gp)" stroke="#7c3aed" stroke-width="2" filter="url(#sh)"/>
      <text x="520" y="172" text-anchor="middle" fill="#e2e8f0" font-size="16" font-weight="800">ğŸ§  Supervisor Agent</text>
      <text x="520" y="187" text-anchor="middle" fill="#a78bfa" font-size="9">ReAct Agent  â€¢  Intent Classification  â€¢  Task Decomposition  â€¢  Result Synthesis</text>

      <!-- Supervisor: HORIZONTAL TECH PIPELINE -->
      <rect x="118" y="196" width="135" height="26" rx="6" fill="rgba(139,92,246,0.1)" stroke="rgba(139,92,246,0.35)" stroke-width="1"/>
      <text x="185" y="207" text-anchor="middle" fill="#e2e8f0" font-size="8.5" font-weight="700">â˜ï¸ Azure OpenAI GPT-4</text>
      <text x="185" y="217" text-anchor="middle" fill="#8b7cc8" font-size="6.5" font-family="SF Mono,Consolas,monospace">AzureChatOpenAI</text>
      <line x1="253" y1="209" x2="268" y2="209" stroke="#a78bfa" stroke-width="1.2" marker-end="url(#sp)"/>

      <rect x="272" y="196" width="145" height="26" rx="6" fill="rgba(139,92,246,0.1)" stroke="rgba(139,92,246,0.35)" stroke-width="1"/>
      <text x="344" y="207" text-anchor="middle" fill="#e2e8f0" font-size="8.5" font-weight="700">ğŸ¦œ LangGraph StateGraph</text>
      <text x="344" y="217" text-anchor="middle" fill="#8b7cc8" font-size="6.5" font-family="SF Mono,Consolas,monospace">create_react_agent()</text>
      <line x1="417" y1="209" x2="432" y2="209" stroke="#a78bfa" stroke-width="1.2" marker-end="url(#sp)"/>

      <rect x="436" y="196" width="145" height="26" rx="6" fill="rgba(139,92,246,0.1)" stroke="rgba(139,92,246,0.35)" stroke-width="1"/>
      <text x="508" y="207" text-anchor="middle" fill="#e2e8f0" font-size="8.5" font-weight="700">ğŸ”€ Command(goto=Send)</text>
      <text x="508" y="217" text-anchor="middle" fill="#8b7cc8" font-size="6.5" font-family="SF Mono,Consolas,monospace">handoff_tool() Ã— 5</text>
      <line x1="581" y1="209" x2="596" y2="209" stroke="#a78bfa" stroke-width="1.2" marker-end="url(#sp)"/>

      <rect x="600" y="196" width="130" height="26" rx="6" fill="rgba(139,92,246,0.1)" stroke="rgba(139,92,246,0.35)" stroke-width="1"/>
      <text x="665" y="207" text-anchor="middle" fill="#e2e8f0" font-size="8.5" font-weight="700">ğŸ’¾ MemorySaver</text>
      <text x="665" y="217" text-anchor="middle" fill="#8b7cc8" font-size="6.5" font-family="SF Mono,Consolas,monospace">checkpointer=memory</text>
      <line x1="730" y1="209" x2="745" y2="209" stroke="#a78bfa" stroke-width="1.2" marker-end="url(#sp)"/>

      <rect x="749" y="196" width="120" height="26" rx="6" fill="rgba(139,92,246,0.1)" stroke="rgba(139,92,246,0.35)" stroke-width="1"/>
      <text x="809" y="207" text-anchor="middle" fill="#e2e8f0" font-size="8.5" font-weight="700">ğŸ‘¤ Human-in-Loop</text>
      <text x="809" y="217" text-anchor="middle" fill="#8b7cc8" font-size="6.5" font-family="SF Mono,Consolas,monospace">interrupt() â†’ HITL</text>

      <!-- Row 2: Supporting tech -->
      <rect x="230" y="230" width="115" height="20" rx="5" fill="rgba(139,92,246,0.06)" stroke="rgba(139,92,246,0.2)" stroke-width="0.8"/>
      <text x="287" y="243" text-anchor="middle" fill="#a78bfa" font-size="7.5" font-weight="600">TypedDict + add_messages</text>
      <rect x="355" y="230" width="135" height="20" rx="5" fill="rgba(139,92,246,0.06)" stroke="rgba(139,92,246,0.2)" stroke-width="0.8"/>
      <text x="422" y="243" text-anchor="middle" fill="#a78bfa" font-size="7.5" font-weight="600">create_task_description_handoff_tool()</text>
      <rect x="500" y="230" width="80" height="20" rx="5" fill="rgba(139,92,246,0.06)" stroke="rgba(139,92,246,0.2)" stroke-width="0.8"/>
      <text x="540" y="243" text-anchor="middle" fill="#a78bfa" font-size="7.5" font-weight="600">Pydantic</text>
      <rect x="590" y="230" width="85" height="20" rx="5" fill="rgba(139,92,246,0.06)" stroke="rgba(139,92,246,0.2)" stroke-width="0.8"/>
      <text x="632" y="243" text-anchor="middle" fill="#a78bfa" font-size="7.5" font-weight="600">read_code_file</text>
      <rect x="685" y="230" width="100" height="20" rx="5" fill="rgba(139,92,246,0.06)" stroke="rgba(139,92,246,0.2)" stroke-width="0.8"/>
      <text x="735" y="243" text-anchor="middle" fill="#a78bfa" font-size="7.5" font-weight="600">learn_from_examples</text>

      <!-- ==================== END NODE (from Supervisor) ==================== -->
      <line x1="980" y1="224" x2="1015" y2="224" stroke="#dc2626" stroke-width="2" marker-end="url(#ar)"/>
      <circle cx="1035" cy="224" r="17" fill="none" stroke="#dc2626" stroke-width="2.5"/>
      <circle cx="1035" cy="224" r="12" fill="none" stroke="#dc2626" stroke-width="1.5"/>
      <text x="1035" y="228" text-anchor="middle" fill="#fca5a5" font-size="9" font-weight="700">END</text>

      </g><!-- end Supervisor group -->

      <!-- ==================== BIDIRECTIONAL ARROWS (Supervisor â†” Agents) ==================== -->
      <!-- Handoff label -->
      <text x="520" y="350" text-anchor="middle" fill="#a78bfa" font-size="8" font-weight="700" letter-spacing="0.8">HANDOFF  â†•  Command(goto=[Send(agent_name, task_input)])</text>

      <!-- Agent centers: 147, 333, 519, 705, 891 -->
      <!-- Single bidirectional arrow per agent -->
      <line x1="280" y1="320" x2="147" y2="380" stroke="#059669" stroke-width="2" marker-start="url(#ag-start)" marker-end="url(#ag-end)"/>
      <line x1="390" y1="320" x2="333" y2="380" stroke="#059669" stroke-width="2" marker-start="url(#ag-start)" marker-end="url(#ag-end)"/>
      <line x1="519" y1="320" x2="519" y2="380" stroke="#059669" stroke-width="2" marker-start="url(#ag-start)" marker-end="url(#ag-end)"/>
      <line x1="650" y1="320" x2="705" y2="380" stroke="#059669" stroke-width="2" marker-start="url(#ag-start)" marker-end="url(#ag-end)"/>
      <line x1="760" y1="320" x2="891" y2="380" stroke="#059669" stroke-width="2" marker-start="url(#ag-start)" marker-end="url(#ag-end)"/>

      <!-- ==================== 5 AGENT NODES with TECH PIPELINES (shifted +48) ==================== -->
      <g transform="translate(0,48)">
      <!-- Each: 180w Ã— 210h, gap=6 -->
      <!-- x: 57, 243, 429, 615, 801 | centers: 147, 333, 519, 705, 891 -->

      <!-- ===== AGENT 1: Snowflake ===== -->
      <rect x="57" y="332" width="180" height="210" rx="12" fill="url(#gg)" stroke="#059669" stroke-width="1.5" filter="url(#sh)"/>
      <text x="147" y="353" text-anchor="middle" fill="#6ee7b7" font-size="12" font-weight="800">â„ï¸ Snowflake Agent</text>
      <text x="147" y="366" text-anchor="middle" fill="#4ade80" font-size="8">Database Query via MCP</text>
      <line x1="70" y1="372" x2="224" y2="372" stroke="rgba(5,150,105,0.2)" stroke-width="0.5"/>
      <rect x="72" y="380" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="147" y="396" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">ğŸ”Œ MCP Client</text>
      <line x1="147" y1="404" x2="147" y2="414" stroke="#34d399" stroke-width="1" marker-end="url(#sg)"/>
      <text x="168" y="413" fill="#22c55e" font-size="6" font-family="SF Mono,Consolas,monospace">stdio</text>
      <rect x="72" y="416" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="147" y="432" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">âš™ï¸ Snowflake MCP Server</text>
      <line x1="147" y1="440" x2="147" y2="450" stroke="#34d399" stroke-width="1" marker-end="url(#sg)"/>
      <text x="168" y="449" fill="#22c55e" font-size="6" font-family="SF Mono,Consolas,monospace">query</text>
      <rect x="72" y="452" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="147" y="468" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">â„ï¸ Snowpark SQL</text>
      <line x1="147" y1="476" x2="147" y2="486" stroke="#34d399" stroke-width="1" marker-end="url(#sg)"/>
      <rect x="72" y="488" width="150" height="24" rx="5" fill="rgba(239,68,68,0.1)" stroke="rgba(239,68,68,0.3)" stroke-width="0.8"/>
      <text x="147" y="501" text-anchor="middle" fill="#fca5a5" font-size="7.5" font-weight="700">ğŸ›¡ï¸ SQLWriteDetector</text>
      <text x="147" y="510" text-anchor="middle" fill="#f87171" font-size="6">blocks destructive queries</text>
      <text x="147" y="534" text-anchor="middle" fill="#059669" font-size="6.5" font-family="SF Mono,Consolas,monospace">MultiServerMCPClient</text>

      <!-- ===== AGENT 2: Visualizer ===== -->
      <rect x="243" y="332" width="180" height="210" rx="12" fill="url(#gg)" stroke="#059669" stroke-width="1.5" filter="url(#sh)"/>
      <text x="333" y="353" text-anchor="middle" fill="#6ee7b7" font-size="12" font-weight="800">ğŸ“ˆ Visualizer Agent</text>
      <text x="333" y="366" text-anchor="middle" fill="#4ade80" font-size="8">Interactive Chart Generation</text>
      <line x1="256" y1="372" x2="410" y2="372" stroke="rgba(5,150,105,0.2)" stroke-width="0.5"/>
      <rect x="258" y="380" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="333" y="396" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">ğŸ“Š plotly.graph_objects</text>
      <line x1="333" y1="404" x2="333" y2="414" stroke="#34d399" stroke-width="1" marker-end="url(#sg)"/>
      <rect x="258" y="416" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="333" y="432" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">âš¡ plotly.express</text>
      <line x1="333" y1="440" x2="333" y2="450" stroke="#34d399" stroke-width="1" marker-end="url(#sg)"/>
      <rect x="258" y="452" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="333" y="468" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">ğŸ’» plotly.io â†’ HTML</text>
      <line x1="333" y1="476" x2="333" y2="486" stroke="#34d399" stroke-width="1" marker-end="url(#sg)"/>
      <rect x="258" y="488" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="333" y="504" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">ğŸ”¢ NumPy</text>
      <text x="333" y="534" text-anchor="middle" fill="#059669" font-size="6.5" font-family="SF Mono,Consolas,monospace">â†’ interactive HTML chart</text>

      <!-- ===== AGENT 3: Python Interpreter ===== -->
      <rect x="429" y="332" width="180" height="210" rx="12" fill="url(#gg)" stroke="#059669" stroke-width="1.5" filter="url(#sh)"/>
      <text x="519" y="353" text-anchor="middle" fill="#6ee7b7" font-size="12" font-weight="800">ğŸ Python Interpreter</text>
      <text x="519" y="366" text-anchor="middle" fill="#4ade80" font-size="8">Sandboxed Code Execution</text>
      <line x1="442" y1="372" x2="596" y2="372" stroke="rgba(5,150,105,0.2)" stroke-width="0.5"/>
      <rect x="444" y="380" width="150" height="24" rx="5" fill="rgba(239,68,68,0.1)" stroke="rgba(239,68,68,0.3)" stroke-width="0.8"/>
      <text x="519" y="393" text-anchor="middle" fill="#fca5a5" font-size="8" font-weight="700">ğŸ›¡ï¸ AST Security Guard</text>
      <text x="519" y="402" text-anchor="middle" fill="#f87171" font-size="6">blocks eval, __import__, open, os</text>
      <line x1="519" y1="404" x2="519" y2="414" stroke="#34d399" stroke-width="1" marker-end="url(#sg)"/>
      <text x="540" y="413" fill="#22c55e" font-size="6">âœ“ safe</text>
      <rect x="444" y="416" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="519" y="432" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">âš™ï¸ Sandboxed exec()</text>
      <line x1="519" y1="440" x2="519" y2="450" stroke="#34d399" stroke-width="1" marker-end="url(#sg)"/>
      <rect x="444" y="452" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="519" y="468" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">ğŸ¼ Pandas + NumPy</text>
      <line x1="519" y1="476" x2="519" y2="486" stroke="#34d399" stroke-width="1" marker-end="url(#sg)"/>
      <rect x="444" y="488" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="519" y="504" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">ğŸ“Š Data Analysis Output</text>
      <text x="519" y="534" text-anchor="middle" fill="#059669" font-size="6.5" font-family="SF Mono,Consolas,monospace">â†’ analysis results to State</text>

      <!-- ===== AGENT 4: Flowchart ===== -->
      <rect x="615" y="332" width="180" height="210" rx="12" fill="url(#gg)" stroke="#059669" stroke-width="1.5" filter="url(#sh)"/>
      <text x="705" y="353" text-anchor="middle" fill="#6ee7b7" font-size="12" font-weight="800">ğŸ”€ Flowchart Agent</text>
      <text x="705" y="366" text-anchor="middle" fill="#4ade80" font-size="8">Diagram Generation</text>
      <line x1="628" y1="372" x2="782" y2="372" stroke="rgba(5,150,105,0.2)" stroke-width="0.5"/>
      <rect x="630" y="380" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="705" y="396" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">ğŸ“– read_code_file()</text>
      <line x1="705" y1="404" x2="705" y2="414" stroke="#34d399" stroke-width="1" marker-end="url(#sg)"/>
      <text x="726" y="413" fill="#22c55e" font-size="6">parse</text>
      <rect x="630" y="416" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="705" y="432" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">ğŸ”€ Mermaid Syntax Gen</text>
      <line x1="705" y1="440" x2="705" y2="450" stroke="#34d399" stroke-width="1" marker-end="url(#sg)"/>
      <rect x="630" y="452" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="705" y="468" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">ğŸŒ HTML Render</text>
      <line x1="705" y1="476" x2="705" y2="486" stroke="#34d399" stroke-width="1" marker-end="url(#sg)"/>
      <rect x="630" y="488" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="705" y="504" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">ğŸ“Š Mermaid.js Render</text>
      <text x="705" y="534" text-anchor="middle" fill="#059669" font-size="6.5" font-family="SF Mono,Consolas,monospace">â†’ interactive flowchart</text>

      <!-- ===== AGENT 5: CSV Export ===== -->
      <rect x="801" y="332" width="180" height="210" rx="12" fill="url(#gg)" stroke="#059669" stroke-width="1.5" filter="url(#sh)"/>
      <text x="891" y="353" text-anchor="middle" fill="#6ee7b7" font-size="12" font-weight="800">ğŸ’¾ CSV Export Agent</text>
      <text x="891" y="366" text-anchor="middle" fill="#4ade80" font-size="8">Structured Data Export</text>
      <line x1="814" y1="372" x2="968" y2="372" stroke="rgba(5,150,105,0.2)" stroke-width="0.5"/>
      <rect x="816" y="380" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="891" y="396" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">ğŸ¼ Pandas DataFrame</text>
      <line x1="891" y1="404" x2="891" y2="414" stroke="#34d399" stroke-width="1" marker-end="url(#sg)"/>
      <text x="912" y="413" fill="#22c55e" font-size="6">transform</text>
      <rect x="816" y="416" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="891" y="432" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">ğŸ“‹ Data Formatting</text>
      <line x1="891" y1="440" x2="891" y2="450" stroke="#34d399" stroke-width="1" marker-end="url(#sg)"/>
      <rect x="816" y="452" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="891" y="468" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">ğŸ“ CSV / Excel / JSON</text>
      <line x1="891" y1="476" x2="891" y2="486" stroke="#34d399" stroke-width="1" marker-end="url(#sg)"/>
      <rect x="816" y="488" width="150" height="24" rx="5" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="891" y="504" text-anchor="middle" fill="#6ee7b7" font-size="8.5" font-weight="700">ğŸ’¾ File System Write</text>
      <text x="891" y="534" text-anchor="middle" fill="#059669" font-size="6.5" font-family="SF Mono,Consolas,monospace">â†’ downloadable files</text>

      <!-- ==================== EXTERNAL RESOURCES ==================== -->
      <rect x="40" y="555" width="155" height="40" rx="8" fill="url(#gr)" stroke="#dc2626" stroke-width="1.2" stroke-dasharray="4 2"/>
      <text x="117" y="572" text-anchor="middle" fill="#fca5a5" font-size="9" font-weight="700">â„ï¸ Snowflake DW</text>
      <text x="117" y="585" text-anchor="middle" fill="#f87171" font-size="7">Cloud Data Warehouse</text>
      <line x1="147" y1="542" x2="127" y2="555" stroke="#dc2626" stroke-width="1.2" stroke-dasharray="3 2" marker-end="url(#ar)"/>

      <rect x="825" y="555" width="155" height="40" rx="8" fill="url(#gr)" stroke="#dc2626" stroke-width="1.2" stroke-dasharray="4 2"/>
      <text x="902" y="572" text-anchor="middle" fill="#fca5a5" font-size="9" font-weight="700">ğŸ“ Local File System</text>
      <text x="902" y="585" text-anchor="middle" fill="#f87171" font-size="7">CSV / Excel / HTML output</text>
      <line x1="891" y1="542" x2="895" y2="555" stroke="#dc2626" stroke-width="1.2" stroke-dasharray="3 2" marker-end="url(#ar)"/>

      <!-- ==================== LEGEND ==================== -->
      <rect x="70" y="610" width="960" height="42" rx="8" fill="rgba(255,255,255,0.02)" stroke="rgba(255,255,255,0.04)"/>
      <text x="90" y="630" fill="#94a3b8" font-size="8.5" font-weight="700">LEGEND:</text>
      <line x1="160" y1="627" x2="200" y2="627" stroke="#059669" stroke-width="2" marker-start="url(#ag-start)" marker-end="url(#ag-end)"/>
      <text x="207" y="630" fill="#94a3b8" font-size="7.5">Supervisor â†” Agent (handoff / return)</text>
      <line x1="520" y1="627" x2="550" y2="627" stroke="#dc2626" stroke-width="1" stroke-dasharray="4 2"/>
      <text x="555" y="630" fill="#94a3b8" font-size="7.5">External resource</text>
      <rect x="660" y="621" width="45" height="14" rx="4" fill="rgba(5,150,105,0.15)" stroke="rgba(5,150,105,0.4)" stroke-width="0.8"/>
      <text x="683" y="631" text-anchor="middle" fill="#6ee7b7" font-size="7">Tech</text>
      <text x="712" y="630" fill="#94a3b8" font-size="7.5">= Technology component (visual pipeline)</text>
      <text x="520" y="646" text-anchor="middle" fill="#475569" font-size="7.5">Each agent is a <tspan fill="#a78bfa">create_react_agent()</tspan> subgraph. Supervisor dispatches via <tspan fill="#a78bfa">Command(goto=[Send(agent)])</tspan>, agents return results via <tspan fill="#a78bfa">add_edge â†’ State</tspan></text>
      </g><!-- end Agents group -->
    </svg>
  </div>

  <!-- ===== ENGINEERING DETAILS ===== -->
  <div class="info-row">
    <div class="info-card ic-purple">
      <h3>Key Engineering Decisions</h3>
      <div class="ii"><strong>Supervisor pattern</strong> over flat chains â€” <code>StateGraph</code> with typed <code>Command</code> routing enables dynamic multi-step pipelines</div>
      <div class="ii"><strong>Task description handoff</strong> â€” <code>create_task_description_handoff_tool()</code> factory generates typed tools that pass enriched context</div>
      <div class="ii"><strong>MCP for DB access</strong> â€” Snowflake decoupled as stdio MCP server with <code>SQLWriteDetector</code> guard at protocol level</div>
      <div class="ii"><strong>Agent autonomy</strong> â€” each sub-agent is a full <code>create_react_agent()</code> with independent tool reasoning</div>
    </div>
    <div class="info-card ic-green">
      <h3>Implementation Highlights</h3>
      <div class="ii"><strong>Sandboxed Python</strong> â€” interpreter blocks <code>exec</code>, <code>eval</code>, <code>open</code>, <code>__</code> patterns while enabling full Pandas/NumPy</div>
      <div class="ii"><strong>Human-in-the-loop</strong> â€” <code>interrupt()</code> for supervisor to request human guidance mid-pipeline</div>
      <div class="ii"><strong>Checkpointed memory</strong> â€” <code>MemorySaver</code> enables session persistence across multi-agent conversations</div>
      <div class="ii"><strong>Zero-install deploy</strong> â€” UV portable bundle auto-provisions Python + all deps on any Windows machine</div>
    </div>
    <div class="info-card ic-amber">
      <h3>Technical Challenges Solved</h3>
      <div class="ii"><strong>Multi-agent coordination</strong> â€” supervisor re-enters after each agent, aggregating heterogeneous outputs</div>
      <div class="ii"><strong>Streamlit + async</strong> â€” bridged sync model with LangGraph's async streaming for real-time token output</div>
      <div class="ii"><strong>Schema-aware NLâ†’SQL</strong> â€” MCP server introspects Snowflake schema at runtime for accurate query generation</div>
    </div>
  </div>

  <div class="tech-bar">
    <div class="tb"><div class="tb-i">ğŸ</div><div class="tb-n">Python</div><div class="tb-r">Runtime</div></div>
    <div class="tb"><div class="tb-i">ğŸ¦œ</div><div class="tb-n">LangGraph</div><div class="tb-r">Orchestration</div></div>
    <div class="tb"><div class="tb-i">â›“ï¸</div><div class="tb-n">LangChain</div><div class="tb-r">LLM Framework</div></div>
    <div class="tb"><div class="tb-i">â˜ï¸</div><div class="tb-n">Azure OpenAI</div><div class="tb-r">GPT-4 API</div></div>
    <div class="tb"><div class="tb-i">ğŸ”Œ</div><div class="tb-n">MCP</div><div class="tb-r">Tool Protocol</div></div>
    <div class="tb"><div class="tb-i">â„ï¸</div><div class="tb-n">Snowflake</div><div class="tb-r">Data Warehouse</div></div>
    <div class="tb"><div class="tb-i">ğŸ“Š</div><div class="tb-n">Plotly</div><div class="tb-r">Visualization</div></div>
    <div class="tb"><div class="tb-i">ğŸ–¥ï¸</div><div class="tb-n">Streamlit</div><div class="tb-r">Web UI</div></div>
    <div class="tb"><div class="tb-i">ğŸ¼</div><div class="tb-n">Pandas</div><div class="tb-r">Data Ops</div></div>
    <div class="tb"><div class="tb-i">ğŸ“</div><div class="tb-n">Pydantic</div><div class="tb-r">Validation</div></div>
    <div class="tb"><div class="tb-i">ğŸ“¦</div><div class="tb-n">UV</div><div class="tb-r">Packaging</div></div>
  </div>

</div>
</body>
</html>
